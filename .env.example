# qBittorrent Connection
# Use the host IP or Docker service name â€” localhost won't work from inside the container
QBITTORRENT_HOST=192.168.1.100
QBITTORRENT_PORT=8080
QBITTORRENT_USERNAME=admin
QBITTORRENT_PASSWORD=yourpassword

# Paths
# These paths are INSIDE the container and should match the paths used by qBittorrent
# Map them in docker-compose.yml volumes section
TORRENT_DIR=/data/torrents
MEDIA_LIBRARY_DIR=/data/media

# Data Directory
# Base directory for cache and logs (default: /app/data/torrent-cleaner)
# Mount this directory to persist cache and logs across container restarts
DATA_DIR=/app/data/torrent-cleaner

# Deletion Criteria
# Rules separated by | (OR logic), conditions within a rule separated by space (AND logic)
# Duration: <number><unit> where unit is d (days), m (months), y (years)
# Ratio: plain number (e.g., 2.0)
# Each rule can have duration, ratio, or both
# Examples:
#   30d 2.0           - 30 days AND ratio >= 2.0
#   30d 2.0 | 10d 0.5 - (30d AND 2.0) OR (10d AND 0.5)
#   30d 2.0 | 90d     - (30d AND 2.0) OR 90 days regardless of ratio
DELETION_CRITERIA=30d 2.0

# Features
# DRY_RUN: Set to 'false' to actually delete torrents (default: true)
DRY_RUN=true
# FIX_HARDLINKS: Attempt to fix broken hardlinks before deletion (default: true)
FIX_HARDLINKS=true

# File Hash Cache
# Cache file hashes to speed up media library indexing (default: true)
ENABLE_CACHE=true
# CACHE_DB_PATH defaults to {DATA_DIR}/cache/file_cache.db
# CACHE_DB_PATH=/app/data/torrent-cleaner/cache/file_cache.db

# Media Extensions
# Comma-separated list of file extensions to treat as media for keep/delete decisions
# Only media files count toward protecting a torrent from deletion
# Hardlink fixing still runs on ALL orphaned files regardless of extension
MEDIA_EXTENSIONS=.mkv,.mp4,.avi,.mov,.m4v,.wmv,.flv,.webm,.ts,.m2ts

# Dead Tracker Cleanup
# Automatically delete torrents where all trackers are dead (default: false)
DELETE_DEAD_TRACKERS=false
# Pipe-separated substrings to match against tracker error messages (case-insensitive)
DEAD_TRACKER_MESSAGES=Host not found (authoritative)|unregistered torrent

# Discord Notifications (optional)
# Leave empty to disable Discord notifications
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# Cron Schedule
# Default: Daily at 2 AM UTC
CRON_SCHEDULE=0 2 * * *

# Run on Startup
# Set to 'true' to run cleaner immediately when container starts
RUN_ON_STARTUP=false

# Logging
LOG_LEVEL=INFO
# LOG_FILE defaults to {DATA_DIR}/logs/cleaner.log
# LOG_FILE=/app/data/torrent-cleaner/logs/cleaner.log
